<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>src/fblib</title>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<!-- JS -->
<script type="text/javascript" src="dochack.js"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">src/fblib</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#Author" title="Author = ref object
  firstName*: string
  middleName*: string
  lastName*: string
  nickname*: string
  homePage*: string
  email*: string">Author</a></li>
<li><a class="reference" href="#Book" title="Book = ref object
  description*: Description
  body*: seq[Section]
  binary: seq[Image]
  metadata: Metadata">Book</a></li>
<li><a class="reference" href="#CKind" title="CKind = enum
  tSection, tText">CKind</a></li>
<li><a class="reference" href="#CleanFlags" title="CleanFlags = enum
  cStrip, cNoSpec, cSquashSymbols">CleanFlags</a></li>
<li><a class="reference" href="#DDocumentInfo" title="DDocumentInfo = ref object
  author*: DocumentAuthor
  programUsed*: string
  date*: string
  srcUrl*: string
  srcOcr*: string
  id*: string
  version*: string
  history*: string">DDocumentInfo</a></li>
<li><a class="reference" href="#Description" title="Description = ref object
  titleInfo*: TTitleInfo
  documentInfo*: DDocumentInfo
  publishInfo*: PPublishInfo">Description</a></li>
<li><a class="reference" href="#DocumentAuthor" title="DocumentAuthor = ref object
  firstName*: string
  middleName*: string
  lastName*: string">DocumentAuthor</a></li>
<li><a class="reference" href="#Image" title="Image = ref object
  name: string
  data: string">Image</a></li>
<li><a class="reference" href="#Metadata" title="Metadata = ref object
  flags: set[ParseFlags]
  file: string
  fileTemplate: string">Metadata</a></li>
<li><a class="reference" href="#ParseFlags" title="ParseFlags = enum
  pAuto, pPlain, pSplit, pNoParse">ParseFlags</a></li>
<li><a class="reference" href="#PPublishInfo" title="PPublishInfo = ref object
  bookName*: string
  publisher*: string
  city*: string
  year*: int
  isbn*: string">PPublishInfo</a></li>
<li><a class="reference" href="#Section" title="Section = ref object
  title*: string
  image*: Image
  epigraph*: seq[string]
  annotation*: string
  case kind*: CKind
  of tSection:
      sections*: seq[Section]

  of tText:
      text*: string">Section</a></li>
<li><a class="reference" href="#Translator" title="Translator = ref object
  firstName*: string
  middleName*: string
  lastName*: string">Translator</a></li>
<li><a class="reference" href="#TTitleInfo" title="TTitleInfo = ref object
  genres*: seq[string]
  author*: Author
  bookTitle*: string
  annotation*: string
  keywords*: seq[string]
  date*: string
  coverpage*: string
  lang*: string
  srcLang*: string
  translator*: Translator">TTitleInfo</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">$
  <li><a class="reference" href="#%24%2CT" title="`$`[T: ref object](obj: T): string">`$`[T: ref object](obj: T): string</a></li>

</ul>
<ul class="simple nested-toc-section">addBookHeader
  <li><a class="reference" href="#addBookHeader%2CBook%2CDescription" title="addBookHeader(book: var Book; description: Description): Book">addBookHeader(book: var Book; description: Description): Book</a></li>

</ul>
<ul class="simple nested-toc-section">addChapter
  <li><a class="reference" href="#addChapter%2CBook%2CSection" title="addChapter(book: var Book; chapter: Section): Book">addChapter(book: var Book; chapter: Section): Book</a></li>
<li><a class="reference" href="#addChapter%2CBook%2Cstring%2Cstring%2CImage%2Cseq%5Bstring%5D%2Cstring%2Cset%5BParseFlags%5D" title="addChapter(book: var Book; chapter: string; title: string = &quot;&quot;;
           image: Image = newImage(); epigraph: seq[string] = @[];
           annotation: string = &quot;&quot;; flags: set[ParseFlags] = {}): Book">addChapter(book: var Book; chapter: string; title: string = &quot;&quot;;
           image: Image = newImage(); epigraph: seq[string] = @[];
           annotation: string = &quot;&quot;; flags: set[ParseFlags] = {}): Book</a></li>

</ul>
<ul class="simple nested-toc-section">addSubSections
  <li><a class="reference" href="#addSubSections%2CSection%2CopenArray%5BSection%5D" title="addSubSections(parent: var Section; children: openArray[Section]): Section">addSubSections(parent: var Section; children: openArray[Section]): Section</a></li>

</ul>
<ul class="simple nested-toc-section">appendChapter
  <li><a class="reference" href="#appendChapter%2CSection%2Cstring" title="appendChapter(chapter: var Section; text: string): Section">appendChapter(chapter: var Section; text: string): Section</a></li>

</ul>
<ul class="simple nested-toc-section">appendFiles
  <li><a class="reference" href="#appendFiles%2CBook%2Cstring" title="appendFiles(book: var Book; directory: string): Book">appendFiles(book: var Book; directory: string): Book</a></li>
<li><a class="reference" href="#appendFiles%2CBook%2Cseq%5Bstring%5D" title="appendFiles(book: var Book; subbooks: seq[string]): Book">appendFiles(book: var Book; subbooks: seq[string]): Book</a></li>

</ul>
<ul class="simple nested-toc-section">fromXml
  <li><a class="reference" href="#fromXml%2CXmlNode" title="fromXml(xmlBook: XmlNode): Book">fromXml(xmlBook: XmlNode): Book</a></li>
<li><a class="reference" href="#fromXml%2CT%2CXmlNode%2Cset%5BParseFlags%5D" title="fromXml[T: ref object](obj: var T; xmlObject: XmlNode;
                       flags: set[ParseFlags] = {}): T">fromXml[T: ref object](obj: var T; xmlObject: XmlNode;
                       flags: set[ParseFlags] = {}): T</a></li>

</ul>
<ul class="simple nested-toc-section">getAuthorName
  <li><a class="reference" href="#getAuthorName%2CBook%2Cset%5BCleanFlags%5D" title="getAuthorName(b: Book;
              flags: set[CleanFlags] = {cStrip, cNoSpec, cSquashSymbols}): string">getAuthorName(b: Book;
              flags: set[CleanFlags] = {cStrip, cNoSpec, cSquashSymbols}): string</a></li>

</ul>
<ul class="simple nested-toc-section">getLastSection
  <li><a class="reference" href="#getLastSection%2CBook" title="getLastSection(b: Book): Section">getLastSection(b: Book): Section</a></li>
<li><a class="reference" href="#getLastSection%2CSection" title="getLastSection(s: Section): Section">getLastSection(s: Section): Section</a></li>

</ul>
<ul class="simple nested-toc-section">load
  <li><a class="reference" href="#load%2CBook%2Cstring" title="load(b: var Book; file: string = &quot;&quot;): Book">load(b: var Book; file: string = &quot;&quot;): Book</a></li>

</ul>
<ul class="simple nested-toc-section">merge
  <li><a class="reference" href="#merge%2Cstring" title="merge(directory: string): Book">merge(directory: string): Book</a></li>
<li><a class="reference" href="#merge%2Cseq%5Bstring%5D" title="merge(files: seq[string]): Book">merge(files: seq[string]): Book</a></li>

</ul>
<ul class="simple nested-toc-section">newAuthor
  <li><a class="reference" href="#newAuthor%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring" title="newAuthor(firstName: string = &quot;&quot;; middleName: string = &quot;&quot;;
          lastName: string = &quot;&quot;; nickname: string = &quot;&quot;; homePage: string = &quot;&quot;;
          email: string = &quot;&quot;): Author">newAuthor(firstName: string = &quot;&quot;; middleName: string = &quot;&quot;;
          lastName: string = &quot;&quot;; nickname: string = &quot;&quot;; homePage: string = &quot;&quot;;
          email: string = &quot;&quot;): Author</a></li>

</ul>
<ul class="simple nested-toc-section">newBook
  <li><a class="reference" href="#newBook%2CDescription%2Cseq%5BSection%5D%2CMetadata" title="newBook(description: Description = newDescription(); body: seq[Section] = @[];
        metadata: Metadata = newMetadata()): Book">newBook(description: Description = newDescription(); body: seq[Section] = @[];
        metadata: Metadata = newMetadata()): Book</a></li>

</ul>
<ul class="simple nested-toc-section">newDDocumentInfo
  <li><a class="reference" href="#newDDocumentInfo%2CDocumentAuthor%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring" title="newDDocumentInfo(author: DocumentAuthor = newDocumentAuthor();
                 programUsed: string = &quot;&quot;; date: string = &quot;&quot;;
                 srcUrl: string = &quot;&quot;; srcOcr: string = &quot;&quot;; id: string = &quot;&quot;;
                 version: string = &quot;&quot;; history: string = &quot;&quot;): DDocumentInfo">newDDocumentInfo(author: DocumentAuthor = newDocumentAuthor();
                 programUsed: string = &quot;&quot;; date: string = &quot;&quot;;
                 srcUrl: string = &quot;&quot;; srcOcr: string = &quot;&quot;; id: string = &quot;&quot;;
                 version: string = &quot;&quot;; history: string = &quot;&quot;): DDocumentInfo</a></li>

</ul>
<ul class="simple nested-toc-section">newDescription
  <li><a class="reference" href="#newDescription%2CTTitleInfo%2CDDocumentInfo%2CPPublishInfo" title="newDescription(titleInfo: TTitleInfo = newTTitleInfo();
               documentInfo: DDocumentInfo = newDDocumentInfo();
               publishInfo: PPublishInfo = newPPublishInfo()): Description">newDescription(titleInfo: TTitleInfo = newTTitleInfo();
               documentInfo: DDocumentInfo = newDDocumentInfo();
               publishInfo: PPublishInfo = newPPublishInfo()): Description</a></li>

</ul>
<ul class="simple nested-toc-section">newDocumentAuthor
  <li><a class="reference" href="#newDocumentAuthor%2Cstring%2Cstring%2Cstring" title="newDocumentAuthor(firstName: string = &quot;&quot;; middleName: string = &quot;&quot;;
                  lastName: string = &quot;&quot;): DocumentAuthor">newDocumentAuthor(firstName: string = &quot;&quot;; middleName: string = &quot;&quot;;
                  lastName: string = &quot;&quot;): DocumentAuthor</a></li>

</ul>
<ul class="simple nested-toc-section">newImage
  <li><a class="reference" href="#newImage%2Cstring%2Cstring" title="newImage(name, data: string = &quot;&quot;): Image">newImage(name, data: string = &quot;&quot;): Image</a></li>

</ul>
<ul class="simple nested-toc-section">newMetadata
  <li><a class="reference" href="#newMetadata%2CBook%2Cset%5BParseFlags%5D%2Cstring%2Cstring" title="newMetadata(book: var Book; flags: set[ParseFlags] = {}; file: string = &quot;&quot;;
    fileTemplate: string = &quot;{bookTitle}_{authorName}_1-{sectionsNum}.fb2&quot;): Metadata">newMetadata(book: var Book; flags: set[ParseFlags] = {}; file: string = &quot;&quot;;
    fileTemplate: string = &quot;{bookTitle}_{authorName}_1-{sectionsNum}.fb2&quot;): Metadata</a></li>
<li><a class="reference" href="#newMetadata%2Cset%5BParseFlags%5D%2Cstring%2Cstring" title="newMetadata(flags: set[ParseFlags] = {}; file: string = &quot;&quot;; fileTemplate: string = &quot;{bookTitle}_{authorName}_1-{sectionsNum}.fb2&quot;): Metadata">newMetadata(flags: set[ParseFlags] = {}; file: string = &quot;&quot;; fileTemplate: string = &quot;{bookTitle}_{authorName}_1-{sectionsNum}.fb2&quot;): Metadata</a></li>

</ul>
<ul class="simple nested-toc-section">newPPublishInfo
  <li><a class="reference" href="#newPPublishInfo%2Cstring%2Cstring%2Cstring%2Cint%2Cstring" title="newPPublishInfo(bookName: string = &quot;&quot;; publisher: string = &quot;&quot;;
                city: string = &quot;&quot;; year: int = 0; isbn: string = &quot;&quot;): PPublishInfo">newPPublishInfo(bookName: string = &quot;&quot;; publisher: string = &quot;&quot;;
                city: string = &quot;&quot;; year: int = 0; isbn: string = &quot;&quot;): PPublishInfo</a></li>

</ul>
<ul class="simple nested-toc-section">newSection
  <li><a class="reference" href="#newSection%2Cstring%2Cstring%2CImage%2Cseq%5Bstring%5D%2Cstring%2Cset%5BParseFlags%5D" title="newSection(chapter: string; title: string = &quot;&quot;; image: Image = newImage();
           epigraph: seq[string] = @[]; annotation: string = &quot;&quot;;
           flags: set[ParseFlags] = {}): Section">newSection(chapter: string; title: string = &quot;&quot;; image: Image = newImage();
           epigraph: seq[string] = @[]; annotation: string = &quot;&quot;;
           flags: set[ParseFlags] = {}): Section</a></li>
<li><a class="reference" href="#newSection%2CCKind%2Cstring%2CImage%2Cseq%5Bstring%5D%2Cstring" title="newSection(kind: CKind; title: string = &quot;&quot;; image: Image = newImage();
           epigraph: seq[string] = @[]; annotation: string = &quot;&quot;): Section">newSection(kind: CKind; title: string = &quot;&quot;; image: Image = newImage();
           epigraph: seq[string] = @[]; annotation: string = &quot;&quot;): Section</a></li>
<li><a class="reference" href="#newSection%2Cseq%5BSection%5D%2Cstring%2CImage%2Cseq%5Bstring%5D%2Cstring" title="newSection(sections: seq[Section] = @[]; title: string = &quot;&quot;;
           image: Image = newImage(); epigraph: seq[string] = @[];
           annotation: string = &quot;&quot;): Section">newSection(sections: seq[Section] = @[]; title: string = &quot;&quot;;
           image: Image = newImage(); epigraph: seq[string] = @[];
           annotation: string = &quot;&quot;): Section</a></li>

</ul>
<ul class="simple nested-toc-section">newTranslator
  <li><a class="reference" href="#newTranslator%2Cstring%2Cstring%2Cstring" title="newTranslator(firstName: string = &quot;&quot;; middleName: string = &quot;&quot;;
              lastName: string = &quot;&quot;): Translator">newTranslator(firstName: string = &quot;&quot;; middleName: string = &quot;&quot;;
              lastName: string = &quot;&quot;): Translator</a></li>

</ul>
<ul class="simple nested-toc-section">newTTitleInfo
  <li><a class="reference" href="#newTTitleInfo%2Cseq%5Bstring%5D%2CAuthor%2Cstring%2Cstring%2Cseq%5Bstring%5D%2Cstring%2Cstring%2Cstring%2Cstring%2CTranslator" title="newTTitleInfo(genres: seq[string] = @[]; author: Author = newAuthor();
              bookTitle: string = &quot;&quot;; annotation: string = &quot;&quot;;
              keywords: seq[string] = @[]; date: string = &quot;&quot;;
              coverpage: string = &quot;&quot;; lang: string = &quot;&quot;; srcLang: string = &quot;&quot;;
              translator: Translator = newTranslator()): TTitleInfo">newTTitleInfo(genres: seq[string] = @[]; author: Author = newAuthor();
              bookTitle: string = &quot;&quot;; annotation: string = &quot;&quot;;
              keywords: seq[string] = @[]; date: string = &quot;&quot;;
              coverpage: string = &quot;&quot;; lang: string = &quot;&quot;; srcLang: string = &quot;&quot;;
              translator: Translator = newTranslator()): TTitleInfo</a></li>

</ul>
<ul class="simple nested-toc-section">save
  <li><a class="reference" href="#save%2CBook%2Cstring" title="save(b: Book; file: string = &quot;&quot;): string">save(b: Book; file: string = &quot;&quot;): string</a></li>

</ul>
<ul class="simple nested-toc-section">toXml
  <li><a class="reference" href="#toXml%2CT" title="toXml[T: ref object](obj: T): XmlNode">toXml[T: ref object](obj: T): XmlNode</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L1" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L1" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

    <div id="tocRoot"></div>
    
    <p class="module-desc">A simple FictionBook v2 manipulation library. Can load, save, append/merge fictionbook files. In beta development 
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">src</span><span class="Operator">/</span><span class="Identifier">fblib</span>
<span class="Keyword">import</span> <span class="Identifier">os</span>
<span class="Identifier">echo</span> <span class="Identifier">getCurrentDir</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Comment"># Example loading</span>
<span class="Keyword">var</span> <span class="Identifier">m</span> <span class="Operator">=</span> <span class="Identifier">newMetadata</span><span class="Punctuation">(</span><span class="Identifier">file</span><span class="Operator">=</span><span class="StringLit">&quot;./tests/data/test.fb2&quot;</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">b</span><span class="Punctuation">:</span> <span class="Identifier">Book</span> <span class="Operator">=</span> <span class="Identifier">newBook</span><span class="Punctuation">(</span><span class="Identifier">metadata</span><span class="Operator">=</span><span class="Identifier">m</span><span class="Punctuation">)</span>
<span class="Keyword">discard</span> <span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">load</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Comment"># Example on saving according to book author</span>
<span class="Keyword">discard</span> <span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">newMetadata</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># filename is chosen from book name/author</span>
<span class="Keyword">discard</span> <span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">save</span><span class="Punctuation">(</span><span class="Punctuation">)</span></pre>See also:<ul class="simple"><li><a class="reference external" href="#appendFiles,Book,seq[string]">appendFiles proc</a> to add chapters from <em>subbooks</em> to <em>book</em></li>
<li><a class="reference external" href="#appendFiles,Book,string">appendFiles proc</a> to add chapters from all fb2 files in <em>directory</em> to <em>book</em></li>
<li><a class="reference external" href="#merge,seq[string]">merge proc</a> to merge chapters from all <em>files</em>, using sequence order of files</li>
<li><a class="reference external" href="#merge,string">merge proc</a> to merge chapters from all fb2 files in <em>directory</em>. Files are merged alphabetically, description is taken fro first file</li>
</ul>
</p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="fblib/xmllib.html">fblib/xmllib</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="Author">
  <dt><pre><a href="fblib.html#Author"><span class="Identifier">Author</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">firstName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">middleName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">lastName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">nickname</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">homePage</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">email</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
</pre></dt>
  <dd>
    
    <p>Object representation of XML path /description/title-info/author</p>
<p>Use <a class="reference external" href="#newAuthor,string,string,string,string,string,string">newAuthor proc</a> for creating a new <em>text</em> author. All params are optional.</p>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newDocumentAuthor,string,string,string">newDocumentAuthor proc</a> for fb2 <em>document</em> author</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L42" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L42" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="Book">
  <dt><pre><a href="fblib.html#Book"><span class="Identifier">Book</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">description</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#Description"><span class="Identifier">Description</span></a>
  <span class="Identifier">body</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">]</span>
  <span class="Identifier">binary</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="fblib.html#Image"><span class="Identifier">Image</span></a><span class="Other">]</span>
  <span class="Identifier">metadata</span><span class="Other">:</span> <a href="fblib.html#Metadata"><span class="Identifier">Metadata</span></a>
</pre></dt>
  <dd>
    
    <p>Whole book object representation.</p>
<p>Use <a class="reference external" href="#newBook,Description,seq[Section],Metadata">newBook proc</a> for creating a new book. All params are optional</p>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newDescription,TTitleInfo,DDocumentInfo,PPublishInfo">newDescription proc</a> - to create book's description</li>
<li><a class="reference external" href="#newSection,CKind,string,Image,seq[string],string">newSection proc</a> to create empty section of chosen kind</li>
<li><a class="reference external" href="#newSection,string,string,Image,seq[string],string,set[ParseFlags]">newSection proc</a> to create text section</li>
<li><a class="reference external" href="#newSection,seq[Section],string,Image,seq[string],string">newSection proc</a> to create parent to other subsections section</li>
<li><a class="reference external" href="#newImage,string,string">newImage proc</a> to create new binary (image)</li>
<li><a class="reference external" href="#newMetadata,set[ParseFlags],string,string">newMetadata proc</a> - to create unbound metadata</li>
<li><a class="reference external" href="#newMetadata,Book,set[ParseFlags],string,string">newMetadata proc</a> to create metadata and add to an existing book</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L203" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L203" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="CKind">
  <dt><pre><a href="fblib.html#CKind"><span class="Identifier">CKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">tSection</span><span class="Other">,</span> <span class="Identifier">tText</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L147" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L147" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="CleanFlags">
  <dt><pre><a href="fblib.html#CleanFlags"><span class="Identifier">CleanFlags</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">cStrip</span><span class="Other">,</span> <span class="Identifier">cNoSpec</span><span class="Other">,</span> <span class="Identifier">cSquashSymbols</span></pre></dt>
  <dd>
    
    flags for string cleaning (e.g. Author title)
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L182" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L182" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="DDocumentInfo">
  <dt><pre><a href="fblib.html#DDocumentInfo"><span class="Identifier">DDocumentInfo</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">author</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#DocumentAuthor"><span class="Identifier">DocumentAuthor</span></a>
  <span class="Identifier">programUsed</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">date</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">srcUrl</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">srcOcr</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">id</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">version</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">history</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
</pre></dt>
  <dd>
    
    <p>Object representation of XML path /description/document-info.</p>
<p>This is this fb2 document information - who formed it, in which program, etc.</p>
<p>Use <a class="reference external" href="#newDDocumentInfo,DocumentAuthor,string,string,string,string,string,string,string">newDDocumentInfo proc</a> for creating a new <em>document</em> info. All params are optional</p>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newTTitleInfo,seq[string],Author,string,string,seq[string],string,string,string,string,Translator">newTTitleInfo proc</a> for book <em>text</em> info</li>
<li><a class="reference external" href="#newPPublishInfo,string,string,string,int,string">newPPublishInfo proc</a> for <em>published</em> document info</li>
<li><a class="reference external" href="#newDocumentAuthor,string,string,string">newDocumentAuthor proc</a> for fb2 <em>document</em> author</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L95" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L95" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="Description">
  <dt><pre><a href="fblib.html#Description"><span class="Identifier">Description</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">titleInfo</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#TTitleInfo"><span class="Identifier">TTitleInfo</span></a>
  <span class="Identifier">documentInfo</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#DDocumentInfo"><span class="Identifier">DDocumentInfo</span></a>
  <span class="Identifier">publishInfo</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#PPublishInfo"><span class="Identifier">PPublishInfo</span></a>
</pre></dt>
  <dd>
    
    <p>Object representation of XML path /description</p>
<p>Whole book description, annotation, author, translator, document author, publish info and etc Use <a class="reference external" href="#newDescription,TTitleInfo,DDocumentInfo,PPublishInfo">newDescription proc</a> for creating a new document info. All params are optional</p>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newTTitleInfo,seq[string],Author,string,string,seq[string],string,string,string,string,Translator">newTTitleInfo proc</a> for book <em>text</em> info</li>
<li><a class="reference external" href="#newDDocumentInfo,DocumentAuthor,string,string,string,string,string,string,string">newDDocumentInfo proc</a> for fb2 <em>document</em> info</li>
<li><a class="reference external" href="#newPPublishInfo,string,string,string,int,string">newPPublishInfo proc</a> for <em>published</em> document info</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L132" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L132" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="DocumentAuthor">
  <dt><pre><a href="fblib.html#DocumentAuthor"><span class="Identifier">DocumentAuthor</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">firstName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">middleName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">lastName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
</pre></dt>
  <dd>
    
    <p>Object representation of XML path /description/document-info/author</p>
<p>Use <a class="reference external" href="#newDocumentAuthor,string,string,string">newDocumentAuthor proc</a> for creating a new <em>document</em> author. All params are optional</p>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newAuthor,string,string,string,string,string,string">newAuthor proc</a> for book <em>text</em> author</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L84" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L84" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="Image">
  <dt><pre><a href="fblib.html#Image"><span class="Identifier">Image</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">data</span><span class="Other">:</span> <span class="Identifier">string</span>
</pre></dt>
  <dd>
    
    <p>Binary (image)</p>
<p>To add an Image, use <a class="reference external" href="#newImage,string,string">newImage proc</a> </p>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L148" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L148" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="Metadata">
  <dt><pre><a href="fblib.html#Metadata"><span class="Identifier">Metadata</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="fblib.html#ParseFlags"><span class="Identifier">ParseFlags</span></a><span class="Other">]</span>
  <span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">fileTemplate</span><span class="Other">:</span> <span class="Identifier">string</span>
</pre></dt>
  <dd>
    
    metadata object for book save/load/other manipulations<ul class="simple"><li>Flags are used for loading from file/adding new chapters.</li>
<li>File is book filename.</li>
<li>If filename is omitted, fileTemplate is used to generate filename</li>
</ul>
<p>based on the name of the book, name of author and chapters count</p>
<p>To create metadata</p>
<ul class="simple"><li>use <a class="reference external" href="#newMetadata,set[ParseFlags],string,string">newMetadata proc</a></li>
<li>use <a class="reference external" href="#newMetadata,Book,set[ParseFlags],string,string">newMetadata proc</a> to create and add to an existing book</li>
</ul>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newBook,Description,seq[Section],Metadata">newBook proc</a> to create book and add metadata object to it</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L185" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L185" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="ParseFlags">
  <dt><pre><a href="fblib.html#ParseFlags"><span class="Identifier">ParseFlags</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">pAuto</span><span class="Other">,</span> <span class="Identifier">pPlain</span><span class="Other">,</span> <span class="Identifier">pSplit</span><span class="Other">,</span> <span class="Identifier">pNoParse</span></pre></dt>
  <dd>
    
    Flags for book processing
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L179" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L179" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="PPublishInfo">
  <dt><pre><a href="fblib.html#PPublishInfo"><span class="Identifier">PPublishInfo</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">bookName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">publisher</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">city</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">year</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">isbn</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
</pre></dt>
  <dd>
    
    <p>Object representation of XML path /description/publish-info</p>
<p>Paper book info, on which this electronic book is based</p>
<p>Use <a class="reference external" href="#newPPublishInfo,string,string,string,int,string">newPPublishInfo proc</a> for creating a new <em>published</em> document info. All params are optional</p>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newTTitleInfo,seq[string],Author,string,string,seq[string],string,string,string,string,Translator">newTTitleInfo proc</a> for book <em>text</em> info</li>
<li><a class="reference external" href="#newDDocumentInfo,DocumentAuthor,string,string,string,string,string,string,string">newDDocumentInfo proc</a> for fb2 <em>document</em> info</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L116" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L116" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="Section">
  <dt><pre><a href="fblib.html#Section"><span class="Identifier">Section</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">title</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">image</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#Image"><span class="Identifier">Image</span></a>
  <span class="Identifier">epigraph</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span>
  <span class="Identifier">annotation</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Keyword">case</span> <span class="Identifier">kind</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#CKind"><span class="Identifier">CKind</span></a>
  <span class="Keyword">of</span> <span class="Identifier">tSection</span><span class="Other">:</span>
      <span class="Identifier">sections</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">tText</span><span class="Other">:</span>
      <span class="Identifier">text</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>

  </pre></dt>
  <dd>
    
    <p>Object representation of XML path /body/../section.</p>
<p>In essence - it's a chapter/part of the document. It may be of different kind - either text or parent to other sections</p>
<p>To create chapter unbound to any book you may use</p>
<ul class="simple"><li><a class="reference external" href="#newSection,CKind,string,Image,seq[string],string">newSection proc</a> (to create empty section of chosen kind)</li>
<li><a class="reference external" href="#newSection,string,string,Image,seq[string],string,set[ParseFlags]">newSection proc</a> (to create text section)</li>
<li><a class="reference external" href="#newSection,seq[Section],string,Image,seq[string],string">newSection proc</a> (to create parent to other subsections section)</li>
</ul>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#addChapter,Book,Section">addChapter proc</a> to add existing chapter to book</li>
<li><a class="reference external" href="#addChapter,Book,string,string,Image,seq[string],string,set[ParseFlags]">addChapter proc</a> to add new text chapter to book</li>
<li><a class="reference external" href="#appendChapter,Section,string">appendChapter proc</a> to append text to existing chapter</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L155" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L155" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="Translator">
  <dt><pre><a href="fblib.html#Translator"><span class="Identifier">Translator</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">firstName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">middleName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">lastName</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
</pre></dt>
  <dd>
    
    <p>Object representation of XML path /description/title-info/translator</p>
<p>Use <a class="reference external" href="#newTranslator,string,string,string">newTranslator proc</a> for creating a new translator. All params are optional</p>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L56" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L56" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="TTitleInfo">
  <dt><pre><a href="fblib.html#TTitleInfo"><span class="Identifier">TTitleInfo</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">genres</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span>
  <span class="Identifier">author</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#Author"><span class="Identifier">Author</span></a>
  <span class="Identifier">bookTitle</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">annotation</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">keywords</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span>
  <span class="Identifier">date</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">coverpage</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">lang</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">srcLang</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">translator</span><span class="Operator">*</span><span class="Other">:</span> <a href="fblib.html#Translator"><span class="Identifier">Translator</span></a>
</pre></dt>
  <dd>
    
    <p>Object representation of XML path /description/title-info</p>
<p>Use <a class="reference external" href="#newTTitleInfo,seq[string],Author,string,string,seq[string],string,string,string,string,Translator">newTTitleInfo proc</a> for creating a info for this certain <em>text</em>. All params are optional</p>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newDDocumentInfo,DocumentAuthor,string,string,string,string,string,string,string">newDDocumentInfo proc</a> for fb2 <em>document</em> info</li>
<li><a class="reference external" href="#newPPublishInfo,string,string,string,int,string">newPPublishInfo proc</a> for <em>published</em> document info</li>
<li><a class="reference external" href="#newAuthor,string,string,string,string,string,string">newAuthor proc</a> for book <em>text</em> author</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L64" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L64" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="$-procs-all">
  <div id="$,T">
  <dt><pre><span class="Keyword">proc</span> <a href="#%24%2CT"><span class="Identifier">`$`</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Keyword">object</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">obj</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L522" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L522" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="addBookHeader-procs-all">
  <div id="addBookHeader,Book,Description">
  <dt><pre><span class="Keyword">proc</span> <a href="#addBookHeader%2CBook%2CDescription"><span class="Identifier">addBookHeader</span></a><span class="Other">(</span><span class="Identifier">book</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span> <span class="Identifier">description</span><span class="Other">:</span> <a href="fblib.html#Description"><span class="Identifier">Description</span></a><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L835" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L835" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="addChapter-procs-all">
  <div id="addChapter,Book,Section">
  <dt><pre><span class="Keyword">proc</span> <a href="#addChapter%2CBook%2CSection"><span class="Identifier">addChapter</span></a><span class="Other">(</span><span class="Identifier">book</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span> <span class="Identifier">chapter</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Add existing chapter to the existing book
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L839" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L839" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="addChapter,Book,string,string,Image,seq[string],string,set[ParseFlags]">
  <dt><pre><span class="Keyword">proc</span> <a href="#addChapter%2CBook%2Cstring%2Cstring%2CImage%2Cseq%5Bstring%5D%2Cstring%2Cset%5BParseFlags%5D"><span class="Identifier">addChapter</span></a><span class="Other">(</span><span class="Identifier">book</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span> <span class="Identifier">chapter</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">title</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                <span class="Identifier">image</span><span class="Other">:</span> <a href="fblib.html#Image"><span class="Identifier">Image</span></a> <span class="Other">=</span> <span class="Identifier">newImage</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">epigraph</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span>
                <span class="Identifier">annotation</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="fblib.html#ParseFlags"><span class="Identifier">ParseFlags</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Other">{</span><span class="Other">}</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create and add new chapter to the existing book
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L844" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L844" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="addSubSections-procs-all">
  <div id="addSubSections,Section,openArray[Section]">
  <dt><pre><span class="Keyword">proc</span> <a href="#addSubSections%2CSection%2CopenArray%5BSection%5D"><span class="Identifier">addSubSections</span></a><span class="Other">(</span><span class="Identifier">parent</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">;</span> <span class="Identifier">children</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Add subsections to parent section parent must be of tSection kind
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L755" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L755" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="appendChapter-procs-all">
  <div id="appendChapter,Section,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#appendChapter%2CSection%2Cstring"><span class="Identifier">appendChapter</span></a><span class="Other">(</span><span class="Identifier">chapter</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">;</span> <span class="Identifier">text</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Add more text to the end of the chapter Only works with chapters of the tText type
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L911" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L911" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="appendFiles-procs-all">
  <div id="appendFiles,Book,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#appendFiles%2CBook%2Cstring"><span class="Identifier">appendFiles</span></a><span class="Other">(</span><span class="Identifier">book</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span> <span class="Identifier">directory</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Add all files (sections in them) in directory to the existing book
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L876" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L876" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="appendFiles,Book,seq[string]">
  <dt><pre><span class="Keyword">proc</span> <a href="#appendFiles%2CBook%2Cseq%5Bstring%5D"><span class="Identifier">appendFiles</span></a><span class="Other">(</span><span class="Identifier">book</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span> <span class="Identifier">subbooks</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Add several &quot;subbooks&quot; files to the existing book (append all their sections to this book)
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L861" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L861" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="fromXml-procs-all">
  <div id="fromXml,XmlNode">
  <dt><pre><span class="Keyword">proc</span> <a href="#fromXml%2CXmlNode"><span class="Identifier">fromXml</span></a><span class="Other">(</span><span class="Identifier">xmlBook</span><span class="Other">:</span> <span class="Identifier">XmlNode</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">]</span><span class="Other">,</span>
                                       <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Convert book xml tree to book objects
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L830" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L830" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="fromXml,T,XmlNode,set[ParseFlags]">
  <dt><pre><span class="Keyword">proc</span> <a href="#fromXml%2CT%2CXmlNode%2Cset%5BParseFlags%5D"><span class="Identifier">fromXml</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Keyword">object</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">obj</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">T</span><span class="Other">;</span> <span class="Identifier">xmlObject</span><span class="Other">:</span> <span class="Identifier">XmlNode</span><span class="Other">;</span>
                            <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="fblib.html#ParseFlags"><span class="Identifier">ParseFlags</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Other">{</span><span class="Other">}</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span></pre></dt>
  <dd>
    
    Convert book xml tree to book objects
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L427" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L427" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="getAuthorName-procs-all">
  <div id="getAuthorName,Book,set[CleanFlags]">
  <dt><pre><span class="Keyword">proc</span> <a href="#getAuthorName%2CBook%2Cset%5BCleanFlags%5D"><span class="Identifier">getAuthorName</span></a><span class="Other">(</span><span class="Identifier">b</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span>
                   <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="fblib.html#CleanFlags"><span class="Identifier">CleanFlags</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Other">{</span><span class="Identifier">cStrip</span><span class="Other">,</span> <span class="Identifier">cNoSpec</span><span class="Other">,</span> <span class="Identifier">cSquashSymbols</span><span class="Other">}</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Get book's author as string Can be either nickname or firstName-middleName-lastName if 
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">b</span> <span class="Operator">=</span> <span class="Identifier">newBook</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">a</span> <span class="Operator">=</span> <span class="Identifier">newAuthor</span><span class="Punctuation">(</span><span class="Identifier">nickname</span><span class="Operator">=</span><span class="StringLit">&quot; Extremely~-cute   &quot;</span><span class="Punctuation">)</span>
<span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">description</span><span class="Operator">.</span><span class="Identifier">titleInfo</span><span class="Operator">.</span><span class="Identifier">author</span> <span class="Operator">=</span> <span class="Identifier">a</span>
<span class="Identifier">doAssert</span> <span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">getAuthorName</span> <span class="Operator">==</span> <span class="StringLit">&quot;Extremely-cute&quot;</span>
<span class="Identifier">a</span> <span class="Operator">=</span> <span class="Identifier">newAuthor</span><span class="Punctuation">(</span><span class="Identifier">firstName</span><span class="Operator">=</span><span class="StringLit">&quot;Alexey&quot;</span><span class="Punctuation">,</span> <span class="Identifier">lastName</span><span class="Operator">=</span><span class="StringLit">&quot;Tolstoy&quot;</span><span class="Punctuation">)</span>
<span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">description</span><span class="Operator">.</span><span class="Identifier">titleInfo</span><span class="Operator">.</span><span class="Identifier">author</span> <span class="Operator">=</span> <span class="Identifier">a</span>
<span class="Identifier">doAssert</span> <span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">getAuthorName</span> <span class="Operator">==</span> <span class="StringLit">&quot;Alexey-Tolstoy&quot;</span>
<span class="Keyword">var</span> <span class="Identifier">da</span> <span class="Operator">=</span> <span class="Identifier">newDocumentAuthor</span><span class="Punctuation">(</span>
  <span class="Identifier">firstName</span><span class="Operator">=</span><span class="StringLit">&quot;Alexey&quot;</span><span class="Punctuation">,</span> <span class="Identifier">middleName</span><span class="Operator">=</span><span class="StringLit">&quot;Nikola$yevich-&quot;</span><span class="Punctuation">,</span> <span class="Identifier">lastName</span><span class="Operator">=</span><span class="StringLit">&quot;Tolstoy&quot;</span><span class="Punctuation">)</span>
<span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">description</span><span class="Operator">.</span><span class="Identifier">documentInfo</span><span class="Operator">.</span><span class="Identifier">author</span> <span class="Operator">=</span> <span class="Identifier">da</span>
<span class="Identifier">doAssert</span> <span class="Identifier">b</span><span class="Operator">.</span><span class="Identifier">getAuthorName</span> <span class="Operator">==</span> <span class="StringLit">&quot;Alexey-Nikolayevich-Tolstoy&quot;</span></pre>
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L580" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L580" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="getLastSection-procs-all">
  <div id="getLastSection,Book">
  <dt><pre><span class="Keyword">proc</span> <a href="#getLastSection%2CBook"><span class="Identifier">getLastSection</span></a><span class="Other">(</span><span class="Identifier">b</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Get book's last section/chapter
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L547" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L547" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="getLastSection,Section">
  <dt><pre><span class="Keyword">proc</span> <a href="#getLastSection%2CSection"><span class="Identifier">getLastSection</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Get section's last subsection/subchapter
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L552" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L552" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="load-procs-all">
  <div id="load,Book,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#load%2CBook%2Cstring"><span class="Identifier">load</span></a><span class="Other">(</span><span class="Identifier">b</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Load <tt class="docutils literal"><span class="pre"><span class="Identifier">book</span></span></tt> from <tt class="docutils literal"><span class="pre"><span class="Identifier">file</span></span></tt> or from file in book.metadata.file
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L536" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L536" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="merge-procs-all">
  <div id="merge,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#merge%2Cstring"><span class="Identifier">merge</span></a><span class="Other">(</span><span class="Identifier">directory</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span>
                                   <span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Make a book from first file in directory and add other files to this book. Files are taken in alphabetic order
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L899" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L899" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="merge,seq[string]">
  <dt><pre><span class="Keyword">proc</span> <a href="#merge%2Cseq%5Bstring%5D"><span class="Identifier">merge</span></a><span class="Other">(</span><span class="Identifier">files</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span>
                                       <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Make a book from <tt class="docutils literal"><span class="pre"><span class="Identifier">files</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span></span></tt> and add other <tt class="docutils literal"><span class="pre"><span class="Identifier">files</span><span class="Punctuation">[</span><span class="DecNumber">1</span> <span class="Operator">..</span> <span class="Operator">^</span><span class="DecNumber">1</span><span class="Punctuation">]</span></span></tt> to this book
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L890" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L890" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newAuthor-procs-all">
  <div id="newAuthor,string,string,string,string,string,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newAuthor%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">newAuthor</span></a><span class="Other">(</span><span class="Identifier">firstName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">middleName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">lastName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">nickname</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">homePage</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">email</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Author"><span class="Identifier">Author</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create book's Author object XML path description/title-info/author
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L560" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L560" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newBook-procs-all">
  <div id="newBook,Description,seq[Section],Metadata">
  <dt><pre><span class="Keyword">proc</span> <a href="#newBook%2CDescription%2Cseq%5BSection%5D%2CMetadata"><span class="Identifier">newBook</span></a><span class="Other">(</span><span class="Identifier">description</span><span class="Other">:</span> <a href="fblib.html#Description"><span class="Identifier">Description</span></a> <span class="Other">=</span> <span class="Identifier">newDescription</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
             <span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">metadata</span><span class="Other">:</span> <a href="fblib.html#Metadata"><span class="Identifier">Metadata</span></a> <span class="Other">=</span> <span class="Identifier">newMetadata</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Create new book</p>
<p>See also:</p>
<ul class="simple"><li><a class="reference external" href="#newDescription,TTitleInfo,DDocumentInfo,PPublishInfo">newDescription proc</a> - to create book's description</li>
<li><a class="reference external" href="#newSection,CKind,string,Image,seq[string],string">newSection proc</a> to create empty section of chosen kind</li>
<li><a class="reference external" href="#newSection,string,string,Image,seq[string],string,set[ParseFlags]">newSection proc</a> to create text section</li>
<li><a class="reference external" href="#newSection,seq[Section],string,Image,seq[string],string">newSection proc</a> to create parent to other subsections section</li>
<li><a class="reference external" href="#newImage,string,string">newImage proc</a> to create new binary (image)</li>
<li><a class="reference external" href="#newMetadata,set[ParseFlags],string,string">newMetadata proc</a> - to create unbound metadata</li>
<li><a class="reference external" href="#newMetadata,Book,set[ParseFlags],string,string">newMetadata proc</a> to create metadata and add to an existing book</li>
</ul>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L809" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L809" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newDDocumentInfo-procs-all">
  <div id="newDDocumentInfo,DocumentAuthor,string,string,string,string,string,string,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newDDocumentInfo%2CDocumentAuthor%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">newDDocumentInfo</span></a><span class="Other">(</span><span class="Identifier">author</span><span class="Other">:</span> <a href="fblib.html#DocumentAuthor"><span class="Identifier">DocumentAuthor</span></a> <span class="Other">=</span> <span class="Identifier">newDocumentAuthor</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
                      <span class="Identifier">programUsed</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">date</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                      <span class="Identifier">srcUrl</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">srcOcr</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                      <span class="Identifier">version</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">history</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#DDocumentInfo"><span class="Identifier">DDocumentInfo</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Create object representation of XML path /description/document-info.</p>
<p>This is this fb2 document information - who formed it, in which program, etc.</p>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L696" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L696" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newDescription-procs-all">
  <div id="newDescription,TTitleInfo,DDocumentInfo,PPublishInfo">
  <dt><pre><span class="Keyword">proc</span> <a href="#newDescription%2CTTitleInfo%2CDDocumentInfo%2CPPublishInfo"><span class="Identifier">newDescription</span></a><span class="Other">(</span><span class="Identifier">titleInfo</span><span class="Other">:</span> <a href="fblib.html#TTitleInfo"><span class="Identifier">TTitleInfo</span></a> <span class="Other">=</span> <span class="Identifier">newTTitleInfo</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
                    <span class="Identifier">documentInfo</span><span class="Other">:</span> <a href="fblib.html#DDocumentInfo"><span class="Identifier">DDocumentInfo</span></a> <span class="Other">=</span> <span class="Identifier">newDDocumentInfo</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
                    <span class="Identifier">publishInfo</span><span class="Other">:</span> <a href="fblib.html#PPublishInfo"><span class="Identifier">PPublishInfo</span></a> <span class="Other">=</span> <span class="Identifier">newPPublishInfo</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Description"><span class="Identifier">Description</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Create object representation of XML path /description</p>
<p>This is metadata on this book - title, author, paper print and fb2 file info.</p>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L741" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L741" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newDocumentAuthor-procs-all">
  <div id="newDocumentAuthor,string,string,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newDocumentAuthor%2Cstring%2Cstring%2Cstring"><span class="Identifier">newDocumentAuthor</span></a><span class="Other">(</span><span class="Identifier">firstName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">middleName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                       <span class="Identifier">lastName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#DocumentAuthor"><span class="Identifier">DocumentAuthor</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Create object representation of XML path /description/document-info.</p>
<p>This is fb2 document autor</p>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L682" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L682" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newImage-procs-all">
  <div id="newImage,string,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newImage%2Cstring%2Cstring"><span class="Identifier">newImage</span></a><span class="Other">(</span><span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">data</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Image"><span class="Identifier">Image</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create binary - image
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L263" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L263" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newMetadata-procs-all">
  <div id="newMetadata,Book,set[ParseFlags],string,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newMetadata%2CBook%2Cset%5BParseFlags%5D%2Cstring%2Cstring"><span class="Identifier">newMetadata</span></a><span class="Other">(</span><span class="Identifier">book</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="fblib.html#ParseFlags"><span class="Identifier">ParseFlags</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Other">{</span><span class="Other">}</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
    <span class="Identifier">fileTemplate</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;{bookTitle}_{authorName}_1-{sectionsNum}.fb2&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Metadata"><span class="Identifier">Metadata</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create object with book's metainfo bound to selected book
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L796" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L796" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="newMetadata,set[ParseFlags],string,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newMetadata%2Cset%5BParseFlags%5D%2Cstring%2Cstring"><span class="Identifier">newMetadata</span></a><span class="Other">(</span><span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="fblib.html#ParseFlags"><span class="Identifier">ParseFlags</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Other">{</span><span class="Other">}</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">fileTemplate</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;{bookTitle}_{authorName}_1-{sectionsNum}.fb2&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Metadata"><span class="Identifier">Metadata</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create unbound object with book's metainfo
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L782" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L782" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newPPublishInfo-procs-all">
  <div id="newPPublishInfo,string,string,string,int,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newPPublishInfo%2Cstring%2Cstring%2Cstring%2Cint%2Cstring"><span class="Identifier">newPPublishInfo</span></a><span class="Other">(</span><span class="Identifier">bookName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">publisher</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                     <span class="Identifier">city</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">year</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">isbn</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#PPublishInfo"><span class="Identifier">PPublishInfo</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Create object representation of XML path /description/publish-info.</p>
<p>This is this paper printed document information - who issued it, in which year, city, etc.</p>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L722" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L722" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newSection-procs-all">
  <div id="newSection,string,string,Image,seq[string],string,set[ParseFlags]">
  <dt><pre><span class="Keyword">proc</span> <a href="#newSection%2Cstring%2Cstring%2CImage%2Cseq%5Bstring%5D%2Cstring%2Cset%5BParseFlags%5D"><span class="Identifier">newSection</span></a><span class="Other">(</span><span class="Identifier">chapter</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">title</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">image</span><span class="Other">:</span> <a href="fblib.html#Image"><span class="Identifier">Image</span></a> <span class="Other">=</span> <span class="Identifier">newImage</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
                <span class="Identifier">epigraph</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">annotation</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="fblib.html#ParseFlags"><span class="Identifier">ParseFlags</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Other">{</span><span class="Other">}</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create new text section. Sections are either text or parent (may have everything except chapter text)
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L303" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L303" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="newSection,CKind,string,Image,seq[string],string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newSection%2CCKind%2Cstring%2CImage%2Cseq%5Bstring%5D%2Cstring"><span class="Identifier">newSection</span></a><span class="Other">(</span><span class="Identifier">kind</span><span class="Other">:</span> <a href="fblib.html#CKind"><span class="Identifier">CKind</span></a><span class="Other">;</span> <span class="Identifier">title</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">image</span><span class="Other">:</span> <a href="fblib.html#Image"><span class="Identifier">Image</span></a> <span class="Other">=</span> <span class="Identifier">newImage</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
                <span class="Identifier">epigraph</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">annotation</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create book Section (chapter), unbound to any book Sections are either text or parent (may have everything except chapter text)
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L271" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L271" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="newSection,seq[Section],string,Image,seq[string],string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newSection%2Cseq%5BSection%5D%2Cstring%2CImage%2Cseq%5Bstring%5D%2Cstring"><span class="Identifier">newSection</span></a><span class="Other">(</span><span class="Identifier">sections</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="fblib.html#Section"><span class="Identifier">Section</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">title</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                <span class="Identifier">image</span><span class="Other">:</span> <a href="fblib.html#Image"><span class="Identifier">Image</span></a> <span class="Other">=</span> <span class="Identifier">newImage</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">epigraph</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span>
                <span class="Identifier">annotation</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Section"><span class="Identifier">Section</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create new parent section. Sections are either text or parent (may have everything except chapter text)
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L335" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L335" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newTranslator-procs-all">
  <div id="newTranslator,string,string,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newTranslator%2Cstring%2Cstring%2Cstring"><span class="Identifier">newTranslator</span></a><span class="Other">(</span><span class="Identifier">firstName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">middleName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                   <span class="Identifier">lastName</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#Translator"><span class="Identifier">Translator</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create object representation of XML path /description/title-info/translator
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L641" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L641" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newTTitleInfo-procs-all">
  <div id="newTTitleInfo,seq[string],Author,string,string,seq[string],string,string,string,string,Translator">
  <dt><pre><span class="Keyword">proc</span> <a href="#newTTitleInfo%2Cseq%5Bstring%5D%2CAuthor%2Cstring%2Cstring%2Cseq%5Bstring%5D%2Cstring%2Cstring%2Cstring%2Cstring%2CTranslator"><span class="Identifier">newTTitleInfo</span></a><span class="Other">(</span><span class="Identifier">genres</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">author</span><span class="Other">:</span> <a href="fblib.html#Author"><span class="Identifier">Author</span></a> <span class="Other">=</span> <span class="Identifier">newAuthor</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
                   <span class="Identifier">bookTitle</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">annotation</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                   <span class="Identifier">keywords</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">date</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                   <span class="Identifier">coverpage</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">lang</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                   <span class="Identifier">srcLang</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                   <span class="Identifier">translator</span><span class="Other">:</span> <a href="fblib.html#Translator"><span class="Identifier">Translator</span></a> <span class="Other">=</span> <span class="Identifier">newTranslator</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <a href="fblib.html#TTitleInfo"><span class="Identifier">TTitleInfo</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Create object representation of XML path /description/title-info</p>
<p>This object contains info on original book text (author, translator, title, annotation, etc)</p>

    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L653" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L653" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="save-procs-all">
  <div id="save,Book,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#save%2CBook%2Cstring"><span class="Identifier">save</span></a><span class="Other">(</span><span class="Identifier">b</span><span class="Other">:</span> <a href="fblib.html#Book"><span class="Identifier">Book</span></a><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">RegexError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Save <tt class="docutils literal"><span class="pre"><span class="Identifier">book</span></span></tt> to <tt class="docutils literal"><span class="pre"><span class="Identifier">file</span></span></tt> or to file in book.metadata.file
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L526" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L526" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="toXml-procs-all">
  <div id="toXml,T">
  <dt><pre><span class="Keyword">proc</span> <a href="#toXml%2CT"><span class="Identifier">toXml</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Keyword">object</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">obj</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">XmlNode</span></pre></dt>
  <dd>
    
    Convert book objects to book xml tree
    <a href="https://github.com/survivorm/fblib/tree/devel/src/fblib.nim#L462" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/survivorm/fblib/edit/devel/src/fblib.nim#L462" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2023-01-20 08:08:05 UTC</small>
      </div>
    </div>
  </div>
  
  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>
</body>
</html>
